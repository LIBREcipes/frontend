<app-hero [title]="title"></app-hero>

<div class="container is-fluid">
  <section
    class="columns is-desktop is-centered is-multiline"
    *ngIf="recipes; else errorBlock"
  >
    <article
      *ngFor="let recipe of recipes; let isLast = last"
      class="clickable column is-5-desktop is-3-fullhd has-border-desktop"
      [routerLink]="['/recipes', recipe.uuid]"
    >
      <div class="columns is-multiline">
        <div class="column is-12-desktop">
          <figure class="image is-5by3">
            <img [src]="recipe.image ? recipe.image.file : ''" />
          </figure>
        </div>
        <section class="column recipe-content">
          <span class="is-title">
            {{ recipe.name }}
          </span>
          <span class="has-text-grey">
            {{
              (recipe.description ? recipe.description : 'No description.')
                | ellipsis: 150
            }}
          </span>
        </section>
      </div>
      <hr *ngIf="!isLast" class="is-hidden-desktop" />
    </article>
  </section>

  <ng-template #errorBlock>
    <app-error type="empty"></app-error>
  </ng-template>
</div>
